(()=>{var e={184:(e,a)=>{var t;!function(){"use strict";var n={}.hasOwnProperty;function l(){for(var e=[],a=0;a<arguments.length;a++){var t=arguments[a];if(t){var o=typeof t;if("string"===o||"number"===o)e.push(t);else if(Array.isArray(t)){if(t.length){var r=l.apply(null,t);r&&e.push(r)}}else if("object"===o){if(t.toString!==Object.prototype.toString&&!t.toString.toString().includes("[native code]")){e.push(t.toString());continue}for(var c in t)n.call(t,c)&&t[c]&&e.push(c)}}}return e.join(" ")}e.exports?(l.default=l,e.exports=l):void 0===(t=function(){return l}.apply(a,[]))||(e.exports=t)}()}},a={};function t(n){var l=a[n];if(void 0!==l)return l.exports;var o=a[n]={exports:{}};return e[n](o,o.exports,t),o.exports}t.n=e=>{var a=e&&e.__esModule?()=>e.default:()=>e;return t.d(a,{a}),a},t.d=(e,a)=>{for(var n in a)t.o(a,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:a[n]})},t.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a),(()=>{"use strict";const e=window.React;var a=t(184),n=t.n(a);const l={compoundBackground:{type:"array"},mobileCompoundBackground:{type:"array"}},{__}=wp.i18n,o=[{label:__(""),value:""},{label:__("Image"),value:"image"},{label:__("Gradient"),value:"gradient"},{label:__("Solid Color"),value:"color"},{label:__("Manual CSS Text"),value:"manual"}],r=[{label:__("Default"),value:"scroll"},{label:__("Fixed"),value:"fixed"},{label:__("Local"),value:"local"}],c=[{label:__("Display image at its actual size"),value:"auto"},{label:__("Cover (Crop excess parts of image)"),value:"cover"},{label:__("Contain (Letterbox image to fit inside)"),value:"contain"},{label:__("Manually enter background-size CSS"),value:"manual"}],i=[{label:__("Upper Left Corner"),value:"top left"},{label:__("Centered on Top Side"),value:"top center"},{label:__("Upper Right Corner"),value:"top right"},{label:__("Centered on Left Side"),value:"center left"},{label:__("Centered"),value:"center center"},{label:__("Centered on Right Side"),value:"center right"},{label:__("Bottom Left Corner"),value:"bottom left"},{label:__("Centered on Bottom Side"),value:"bottom center"},{label:__("Bottom Right Corner"),value:"bottom right"},{label:__("Focal Point"),value:"focalpoint"},{label:__("Manually enter background-position CSS"),value:"manual"}],u=[{label:__("Repeat"),value:"repeat"},{label:__("Repeat Horizontally"),value:"repeat-x"},{label:__("Repeat Vertically"),value:"repeat-y"},{label:__("Do NOT Repeat"),value:"no-repeat"}],s=[{label:__("Normal"),value:"normal"},{label:__("Multiply"),value:"multiply"},{label:__("Screen"),value:"screen"},{label:__("Overlay"),value:"overlay"},{label:__("Darken"),value:"darken"},{label:__("Lighten"),value:"lighten"},{label:__("Color Dodge"),value:"color-dodge"},{label:__("Color Burn"),value:"color-burn"},{label:__("Hard Light"),value:"hard-light"},{label:__("Soft Light"),value:"soft-light"},{label:__("Difference"),value:"difference"},{label:__("Exclusion"),value:"exclusion"},{label:__("Hue"),value:"hue"},{label:__("Saturation"),value:"saturation"},{label:__("Color"),value:"color"},{label:__("Luminosity"),value:"luminosity"}],{BaseControl:d,SelectControl:g,Button:m,TextControl:b,FocalPointPicker:p,GradientPicker:k,ColorPalette:v,RangeControl:C,TextareaControl:y}=wp.components,{MediaUpload:h,MediaUploadCheck:f,useSetting:E}=wp.blockEditor,{__:B}=wp.i18n,S=({index:a,layer:t,onLayerChange:n,onClickDeleteLayer:l,onClickMoveLayerDown:S,onClickMoveLayerUp:x})=>{const{layerType:M,manualTextBackground:O,backgroundImage:j,backgroundGradient:P,backgroundColor:L,backgroundColorOpacity:w,focalPoint:I,backgroundSize:A,backgroundSizeManual:T,backgroundPosition:N,backgroundPositionManual:$,backgroundRepeat:D,backgroundBlendMode:_,backgroundAttachment:R}=t,z=e=>{n(Object.assign({},t,e),a)};return(0,e.createElement)("div",{className:"background-layer-control",style:{display:"flex",flexDirection:"column"},key:a,title:B(`Layer ${a}`)},(0,e.createElement)("div",{className:"background-layer-control-title-bar"},(0,e.createElement)("label",null,"Layer ",a),(0,e.createElement)("div",{className:"background-layer-control-title-bar-buttons"},(0,e.createElement)(m,{isSmall:!0,text:"▲",label:"Move Up",onClick:()=>x(a)}),(0,e.createElement)(m,{isSmall:!0,text:"▼",label:"Move Down",onClick:()=>S(a)}),(0,e.createElement)(m,{isSmall:!0,text:"×",label:"Delete",onClick:()=>l(a)}))),(0,e.createElement)(g,{label:B("Background Type"),value:M,options:o,onChange:e=>z({layerType:e})}),(0,e.createElement)(g,{label:B("Attachment"),value:R,options:r,onChange:e=>z({backgroundAttachment:e})}),(0,e.createElement)(g,{label:B("Blend Mode"),value:_,options:s,onChange:e=>z({backgroundBlendMode:e})}),"manual"===M&&(0,e.createElement)(y,{label:"Manual CSS Background",value:O,onChange:e=>z({manualTextBackground:e})}),"image"===M&&(0,e.createElement)(d,{label:B("Image")},(0,e.createElement)(f,null,(0,e.createElement)(h,{allowedTypes:["image"],onSelect:e=>{z({backgroundImage:e.url})},render:a=>(0,e.createElement)(m,{className:"editor-post-featured-image__toggle",onClick:a.open},B("Set Background Image"))}))),"image"===M&&j&&(0,e.createElement)(d,{className:"components-bg-image-display"},(0,e.createElement)("img",{src:j,alt:B("Image")}),(0,e.createElement)("div",{className:"components-bg-image-display__clear-wrapper"},(0,e.createElement)(m,{isSmall:!0,onClick:()=>{z({backgroundImage:void 0})}},"Clear"))),"gradient"===M&&(0,e.createElement)(k,{label:"Gradient",value:P,disableCustomGradients:!1,gradients:E("color.gradients"),onChange:e=>z({backgroundGradient:e})}),"color"===M&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(v,{label:"Background Color",colors:E("color.palette"),value:L,onChange:e=>z({backgroundColor:e})}),(0,e.createElement)(C,{label:"Background Color Opacity",min:0,max:100,value:w>=0?w:100,onChange:e=>z({backgroundColorOpacity:e})})),["image","gradient"].includes(M)&&(0,e.createElement)(g,{label:B("Size"),value:A,options:Object.values(c),onChange:e=>{z({backgroundSize:e})}}),["image","gradient"].includes(M)&&"manual"===A&&(0,e.createElement)(d,{label:B("Manual Size")},(0,e.createElement)(b,{value:T,onChange:e=>{z({backgroundSizeManual:e})}})),["image","gradient"].includes(M)&&(0,e.createElement)(g,{label:B("Position"),value:N,options:Object.values(i),onChange:e=>{z({backgroundPosition:e})}}),["image","gradient"].includes(M)&&"manual"===N&&(0,e.createElement)(d,{label:B("Manual Position")},(0,e.createElement)(b,{value:$,onChange:e=>{z({backgroundPositionManual:e})}})),["image","gradient"].includes(M)&&"focalpoint"===N&&(0,e.createElement)(p,{url:j,value:I||{x:.5,y:.5},onChange:e=>z({focalPoint:e})}),["image","gradient"].includes(M)&&(0,e.createElement)(g,{label:B("Repeat"),value:D,options:Object.values(u),onChange:e=>{z({backgroundRepeat:e})}}))},{__:x}=wp.i18n,{PanelBody:M,Button:O}=wp.components,j=a=>{const t=[{layerType:"image"}],n=a.attributes.compoundBackground||t,l=["background-layer-collection"];let o=x("Add Overlay");return 0===n.length?(o=x("Add Background"),l.push("no-layers")):1===n.length?l.push("single-layer"):n.length>1&&(o=x("Add Layer"),l.push("multiple-layers")),(0,e.createElement)(M,{className:"skeletor-inspector-control",title:x("Compound Background"),initialOpen:!1},(0,e.createElement)("div",{className:l.join(" ")},n.map(((n,l)=>(0,e.createElement)(S,{index:l,layer:n,onLayerChange:(e,n)=>{((e,n)=>{const l=(a.attributes.compoundBackground||t).map(((a,t)=>t===n?e:a));a.setAttributes({compoundBackground:l})})(e,n)},onClickDeleteLayer:e=>(e=>{const n=(a.attributes.compoundBackground||t).filter(((a,t)=>t!==e));a.setAttributes({compoundBackground:n})})(e),onClickMoveLayerUp:e=>(e=>{if(e<=0)return;const n=a.attributes.compoundBackground||t;if(n.length<=1)return;const l=Object.assign({},n[e]),o=Object.assign({},n[e-1]),r=n.map(((a,t)=>t===e-1?l:t===e?o:Object.assign({},a)));a.setAttributes({compoundBackground:r})})(e),onClickMoveLayerDown:e=>(e=>{const n=a.attributes.compoundBackground||t;if(e===n.length-1)return;if(n.length<=1)return;const l=Object.assign({},n[e]),o=Object.assign({},n[e+1]),r=n.map(((a,t)=>t===e+1?l:t===e?o:Object.assign({},a)));a.setAttributes({compoundBackground:r})})(e)})))),(0,e.createElement)(O,{text:o,variant:"secondary",onClick:()=>(()=>{const e=a.attributes.compoundBackground||t;a.setAttributes({compoundBackground:[...e,{}]})})(),isSmall:!0}))},{BaseControl:P,SelectControl:L,Button:w,TextControl:I,FocalPointPicker:A,GradientPicker:T,ColorPalette:N,RangeControl:$,TextareaControl:D}=wp.components,{MediaUpload:_,MediaUploadCheck:R,useSetting:z}=wp.blockEditor,{__:G}=wp.i18n,U=({index:a,layer:t,onLayerChange:n,onClickDeleteLayer:l,onClickMoveLayerDown:d,onClickMoveLayerUp:g})=>{const{layerType:m,manualTextBackground:b,backgroundImage:p,backgroundGradient:k,backgroundColor:v,backgroundColorOpacity:C,focalPoint:y,backgroundSize:h,backgroundSizeManual:f,backgroundPosition:E,backgroundPositionManual:B,backgroundRepeat:S,backgroundBlendMode:x,backgroundAttachment:M}=t,O=e=>{n(Object.assign({},t,e),a)};return(0,e.createElement)("div",{className:"background-layer-control",style:{display:"flex",flexDirection:"column"},key:a,title:G(`Layer ${a}`)},(0,e.createElement)("div",{className:"background-layer-control-title-bar"},(0,e.createElement)("label",null,"Layer ",a),(0,e.createElement)("div",{className:"background-layer-control-title-bar-buttons"},(0,e.createElement)(w,{isSmall:!0,text:"▲",label:G("Move Up"),onClick:()=>g(a)}),(0,e.createElement)(w,{isSmall:!0,text:"▼",label:G("Move Down"),onClick:()=>d(a)}),(0,e.createElement)(w,{isSmall:!0,text:"×",label:G("Delete"),onClick:()=>l(a)}))),(0,e.createElement)(L,{label:G("Background Type"),value:m,options:o,onChange:e=>O({layerType:e})}),(0,e.createElement)(L,{label:G("Attachment"),value:M,options:r,onChange:e=>O({backgroundAttachment:e})}),(0,e.createElement)(L,{label:G("Blend Mode"),value:x,options:s,onChange:e=>O({backgroundBlendMode:e})}),"manual"===m&&(0,e.createElement)(D,{label:G("Manual CSS Background"),value:b,onChange:e=>O({manualTextBackground:e})}),"image"===m&&(0,e.createElement)(P,{label:G("Image")},(0,e.createElement)(R,null,(0,e.createElement)(_,{allowedTypes:["image"],onSelect:e=>{O({backgroundImage:e.url})},render:a=>(0,e.createElement)(w,{className:"editor-post-featured-image__toggle",onClick:a.open},G("Set Background Image"))}))),"image"===m&&p&&(0,e.createElement)(P,{className:"components-bg-image-display"},(0,e.createElement)("img",{src:p,alt:G("Image")}),(0,e.createElement)("div",{className:"components-bg-image-display__clear-wrapper"},(0,e.createElement)(w,{isSmall:!0,onClick:()=>{O({backgroundImage:void 0})}},"Clear"))),"gradient"===m&&(0,e.createElement)(T,{label:G("Gradient"),value:k,disableCustomGradients:!1,gradients:z("color.gradients"),onChange:e=>O({backgroundGradient:e})}),"color"===m&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(N,{label:G("Background Color"),colors:z("color.palette"),value:v,onChange:e=>O({backgroundColor:e})}),(0,e.createElement)($,{label:G("Background Color Opacity"),min:0,max:100,value:C>=0?C:100,onChange:e=>O({backgroundColorOpacity:e})})),["image","gradient"].includes(m)&&(0,e.createElement)(L,{label:G("Size"),value:h,options:Object.values(c),onChange:e=>{O({backgroundSize:e})}}),["image","gradient"].includes(m)&&"manual"===h&&(0,e.createElement)(P,{label:G("Manual Size")},(0,e.createElement)(I,{value:f,onChange:e=>{O({backgroundSizeManual:e})}})),["image","gradient"].includes(m)&&(0,e.createElement)(L,{label:G("Position"),value:E,options:Object.values(i),onChange:e=>{O({backgroundPosition:e})}}),["image","gradient"].includes(m)&&"manual"===E&&(0,e.createElement)(P,{label:G("Manual Position")},(0,e.createElement)(I,{value:B,onChange:e=>{O({backgroundPositionManual:e})}})),["image","gradient"].includes(m)&&"focalpoint"===E&&(0,e.createElement)(A,{url:p,value:y||{x:.5,y:.5},onChange:e=>O({focalPoint:e})}),["image","gradient"].includes(m)&&(0,e.createElement)(L,{label:G("Repeat"),value:S,options:Object.values(u),onChange:e=>{O({backgroundRepeat:e})}}))},{__:F}=wp.i18n,{PanelBody:H,Button:V}=wp.components,q=a=>{const t=[{layerType:"image"}],n=a.attributes.mobileCompoundBackground||t,l=["background-layer-collection"];let o=F("Add Overlay");return 0===n.length?(o=F("Add Background"),l.push("no-layers")):1===n.length?l.push("single-layer"):n.length>1&&(o=F("Add Layer"),l.push("multiple-layers")),(0,e.createElement)(H,{className:"skeletor-inspector-control",title:F("Mobile Compound Background"),initialOpen:!1},(0,e.createElement)("div",{className:l.join(" ")},n.map(((n,l)=>(0,e.createElement)(U,{index:l,layer:n,onLayerChange:(e,n)=>{((e,n)=>{const l=(a.attributes.mobileCompoundBackground||t).map(((a,t)=>t===n?e:a));a.setAttributes({mobileCompoundBackground:l})})(e,n)},onClickDeleteLayer:e=>(e=>{const n=(a.attributes.mobileCompoundBackground||t).filter(((a,t)=>t!==e));a.setAttributes({mobileCompoundBackground:n})})(e),onClickMoveLayerUp:e=>(e=>{if(e<=0)return;const n=a.attributes.mobileCompoundBackground||t;if(n.length<=1)return;const l=Object.assign({},n[e]),o=Object.assign({},n[e-1]),r=n.map(((a,t)=>t===e-1?l:t===e?o:Object.assign({},a)));a.setAttributes({mobileCompoundBackground:r})})(e),onClickMoveLayerDown:e=>(e=>{const n=a.attributes.mobileCompoundBackground||t;if(e===n.length-1)return;if(n.length<=1)return;const l=Object.assign({},n[e]),o=Object.assign({},n[e+1]),r=n.map(((a,t)=>t===e+1?l:t===e?o:Object.assign({},a)));a.setAttributes({mobileCompoundBackground:r})})(e)})))),(0,e.createElement)(V,{text:o,variant:"secondary",onClick:()=>(()=>{const e=a.attributes.mobileCompoundBackground||t;a.setAttributes({mobileCompoundBackground:[...e,{}]})})(),isSmall:!0}))},J=e=>{const{backgroundPosition:a,backgroundPositionManual:t,focalPoint:n}=e;return"manual"===a?t:"focalpoint"===a&&n?`${100*n.x}% ${100*n.y}%`:a||"0 0"},K=e=>{const{backgroundSize:a,backgroundSizeManual:t}=e;let n=a;return"manual"===a?n=t:void 0===a&&(n="auto"),`/${n}`},Q=e=>{const{layerType:a,backgroundImage:t,backgroundGradient:n,backgroundColor:l}=e;if("image"===a&&t)return`url('${t}')`;if("gradient"===a&&n)return n;if("color"===a&&l){const a=(e=>{if((e=e.toLocaleLowerCase()).match(/^\#[0-9a-f]{6}$/))return{r:parseInt(e.substr(1,2),16),g:parseInt(e.substr(3,2),16),b:parseInt(e.substr(5,2),16),a:1};if(e.match(/^\#[0-9a-f]{3}$/)){const a=e.replace(/[0-9a-f]/g,"$&$&");return{r:parseInt(a.substr(1,2),16),g:parseInt(a.substr(3,2),16),b:parseInt(a.substr(5,2),16),a:1}}if(e.match(/^\#[0-9a-f]{8}$/))return{r:parseInt(e.substr(1,2),16),g:parseInt(e.substr(3,2),16),b:parseInt(e.substr(5,2),16),a:parseInt(e.substr(7,2),16)/255};const a=e.match(/^rgb\(([^\)]+)\)$/);if(a){const e=a[1].split(",").map((e=>parseInt(e.trim())));return{r:e[0],g:e[1],b:e[2],a:1}}const t=e.match(/^rgba\(([^\)]+)\)$/);if(t){const e=t[1].split(",").map((e=>e.trim()));return{r:parseInt(e[0]),g:parseInt(e[1]),b:parseInt(e[2]),a:parseFloat(e[3])}}return{r:0,g:0,b:0,a:0}})(l),t=e.backgroundColorOpacity>=0?.01*e.backgroundColorOpacity:1,n=`rgba(${a.r}, ${a.g}, ${a.b}, ${a.a*t})`;return`linear-gradient(to right,${n} 0,${n} 100%)`}return null},W=e=>{const{compoundBackground:a}=e;if(!a)return{};const t=a.map((e=>{if("manual"===e.layerType)return e.manualTextBackground;const a=Q(e),t=J(e),n=K(e),{backgroundRepeat:l}=e;return a?[a,`${t}${n}`,l].filter((e=>e)).join(" ").replace("auto/auto","").trim():void 0})).filter((e=>e)),n=t.reverse().join(",");if(!n)return;const l={background:n},o=a.map((e=>e.backgroundBlendMode||"normal")).splice(0,t.length);o.length>0&&o.some((e=>"normal"!==e))&&Object.assign(l,{backgroundBlendMode:o.reverse().join(",")});const r=a.map((e=>e.backgroundAttachment||"scroll")).splice(0,t.length);return r.length>0&&r.some((e=>"scroll"!==e))&&Object.assign(l,{backgroundAttachment:r.reverse().join(",")}),l},X=e=>{const{mobileCompoundBackground:a}=e;if(!a)return{};const t=a.map((e=>{if("manual"===e.layerType)return e.manualTextBackground;const a=Q(e),t=J(e),n=K(e),{backgroundRepeat:l}=e;return a?[a,`${t}${n}`,l].filter((e=>e)).join(" ").replace("auto/auto","").trim():void 0})).filter((e=>e)),n=t.reverse().join(",");if(!n)return;const l={"--mobile-background":n},o=a.map((e=>e.backgroundBlendMode||"normal")).splice(0,t.length);o.length>0&&o.some((e=>"normal"!==e))&&Object.assign(l,{"--mobile-background-blend-mode":o.reverse().join(",")});const r=a.map((e=>e.backgroundAttachment||"scroll")).splice(0,t.length);return r.length>0&&r.some((e=>"scroll"!==e))&&Object.assign(l,{"--mobile-background-attachment":r.reverse().join(",")}),l},Y=e=>{const a=X(e);if(a&&("object"!=typeof a||0!=Object.keys(a).length))return n()({"has-mobile-background":a})},{addFilter:Z,applyFilters:ee}=wp.hooks,{createHigherOrderComponent:ae}=wp.compose,{InspectorControls:te}=wp.blockEditor,ne=["core/group","core/columns","core/column","core/cover"],le=e=>ee("hasBackgroundControl",ne.includes(e),e);Z("blocks.registerBlockType","background",((e,a)=>le(a)?{...e,attributes:{...e.attributes,...l}}:e)),Z("blocks.getSaveContent.extraProps","background",((e,a,t)=>le(a.name)?{...e,className:n()(e.className,Y(t)),style:{...e.style,...W(t),...X(t)}}:e)),Z("editor.BlockEdit","background",ae((a=>t=>{if(!le(t.name))return(0,e.createElement)(a,{...t});const l={...t,className:n()(t.className,Y(t.attributes)),style:{...t.style,...W(t.attributes),...X(t.attributes)}};return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(a,{...l}),(0,e.createElement)(te,null,(0,e.createElement)(j,{...t}),(0,e.createElement)(q,{...t})))}))),Z("editor.BlockListBlock","background",ae((a=>t=>{const{name:l}=t;if(!le(l))return(0,e.createElement)(a,{...t});const o={...t,className:n()(t.className,Y(t.attributes)),wrapperProps:{...t.wrapperProps,style:{...t.wrapperProps?.style,...W(t.attributes),...X(t.attributes)}}};return(0,e.createElement)(a,{...o})})))})()})();